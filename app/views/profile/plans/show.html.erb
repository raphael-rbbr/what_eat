<div class="profile-container">

  <h3>Página Plan-Show</h3>

  <%=link_to "home", root_path%>

  <%=link_to "Groceries List", profile_groceries_list_path(@user)%>

  <div class="meals-cards">

    <div class="timetable-card">
      <%# incluir forma de puxar apenas os dados do plano atual pela data " , locals: { plan:  } " %>
      <%# <%= raise %>
      <%= render "timetable" %>
    </div>

    <div>
      <h3><strong> Selected Meals for You! </strong></h3>
    </div>

    <div class="recipe-cards-container" data-controller="drag-item" data-drag-item-target="recipeCardContainer" id="cloning">
      <% @user.recipes.each do |recipe| %>
        <div  class="list-group-item"

              <%# hooks para criar meal %>
              id="<%= recipe.id %>"
              data-drag-item-target="recipe"

              <%# hooks para modal-details %>
              data-controller="meal-card"
              data-meal-card-target="recipe">

          <%= cl_image_tag recipe.recipe_photo.key, class:"meal-img" %>
          <div class="meal-card-text">
            <h4><strong><%= recipe.title %> • <%= recipe.servings %><i class="bi bi-people-fill"></i></strong></h4>

            <div  class="link-card"
                  data-toggle="modal"
                  data-target="#modal<%=recipe.id%>">
              <%# <%= link_to "Details", "/profile/recipes/#{recipe.id}" %>
              <button data-action="meal-card#click"></button>
            </div>
          </div>
        </div>
        <div  class="modal fade"
              data-controller="modal"
              data-action="meal-card:click@window->modal#open"
              id="modal<%=recipe.id%>" tabindex="-1" role="dialog" aria-labelledby="modal<%=recipe.id%>Title" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="modal<%=recipe.id%>Title">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div  class="modal-body">
                <div id="recipe<%=recipe.id%>">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div>
            </div>
          </div>
        </div>

      <% end %>
    </div>
  </div>

</div>

<%# <%= render partial: "show", locals: {recipe: Recipe.find_by(title: "Green Lemonade")}%> %>
